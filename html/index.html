<!--
  Author: Dalton Brooks
  File: index.html
  Notes:
    -Wedding Invitation Index-
    I borrowed a template page from W3schools for this,
    however, the server this is served by and takes the data is fully written by me,
    along with the admin and 'login' pages and the submit forms to gather the data.

-->
<!DOCTYPE html>
<html>
<title>Dalton and Lauren</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<style>
body,h1,h2{font-family: "Raleway", sans-serif}
body, html {height: 100%}
p {line-height: 2}
.bgimg, .bgimg2 {
  min-height: 100%;
  background-position: center;
  background-size: cover;
}
.bgimg {background-image: url("/first_image.jpg")}
.bgimg2 {background-image: url("/third_image.jpg")}
</style>
<body>

<!-- Header / Home-->
<header class="w3-display-container w3-wide bgimg w3-grayscale-min" id="home">
  <div class="w3-display-middle w3-text-white w3-center">
    <h1 class="w3-jumbo">Dalton & Lauren</h1>
    <h2>Are getting married</h2>
    <h2><b>06.22.2019</b></h2>
  </div>
</header>

<!-- Navbar (sticky bottom) -->
<div class="w3-bottom w3-hide-small">
  <div class="w3-bar w3-white w3-center w3-padding w3-opacity-min w3-hover-opacity-off">
    <a href="#home" style="width:25%" class="w3-bar-item w3-button">Home</a>
    <a href="#us" style="width:25%" class="w3-bar-item w3-button">Dalton & Lauren</a>
    <a href="#wedding" style="width:25%" class="w3-bar-item w3-button">Wedding</a>
    <a href="#rsvp" style="width:25%" class="w3-bar-item w3-button w3-hover-black">RSVP</a>
  </div>
</div>

<!-- About / Dalton And Lauren -->
<div class="w3-container w3-padding-64 w3-pale-red w3-grayscale-min" id="us">
  <div class="w3-content">
    <h1 class="w3-center w3-text-grey"><b>Dalton & Lauren</b></h1>
    <img class="w3-round w3-grayscale-min" src="/second_image.jpg" style="width:100%;margin:32px 0">
    <p><i></i>
    </p><br>
    <p class="w3-center"><a href="#wedding" class="w3-button w3-black w3-round w3-padding-large w3-large">Wedding Details</a></p>
  </div>
</div>

<!-- Background photo -->
<div class="w3-display-container bgimg2">
  <div class="w3-display-middle w3-text-white w3-center">
    <h1 class="w3-jumbo">You Are Invited!</h1><br>
    <h2></h2>
  </div>
</div>

<!-- Wedding information -->
<div class="w3-container w3-padding-64 w3-pale-red w3-grayscale-min w3-center" id="wedding">
  <div class="w3-content">
    <h1 class="w3-text-grey"><b>THE WEDDING</b></h1>
    <img class="w3-round-large w3-grayscale-min" src="/fourth_image.jpg" style="width:100%;margin:64px 0">
    <div class="w3-row">
      <div class="w3-half">
        <h2>When</h2>
        <p>Wedding Ceremony - 6:00pm</p>
        <p>Reception & Dinner to follow</p>
      </div>
      <div class="w3-half">
        <h2>Where</h2>
        <p>St. Louis City Museum</p>
        <p>Vault Room - 2nd floor</p>
        <p>750 N 16th St, St. Louis, MO</p>
      </div>
      <div>
        
       <h2>Other Information</h2>
        <ul style = 'margin-left: 10%; text-align: left;'>
          <li>
            Unplugged ceremony: We invite you to be fully present during our ceremony. Kindly turn off all cell phones & cameras and enjoy this moment with us.
          </li>
          <br>
          <li>
            Bring casual clothes if you would like to enjoy the venue. There will be a changing area and storage for your nicer attire. 
          </li>
          <br>
          <li>
            You can come as early as you want! Have a blast at the museum on us!
          </li>
          <br>
          <li>
            The parking lot below has been reserved for the wedding and will open at 5 pm. Please let the attendant know that you are here for the Davis-Brooks wedding. If you would like to come early, the other lots will be open (usually cost $10). 
          </li>
          <br>
          <li>
            We are moving to Seattle, WA at the beginning of May. Because of this, we will be having a small registry that you can ship items to our new home. (Coming soon!)
          </li>
          <br>
          <li>
              We would also like to have everyone bring one recipe that we can keep to make whenever we feel homesick.
          </li>
        </ul>
      </div>
      <div>
        <h2>Parking</h2>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3116.6631274996225!2d-90.20260268432716!3d38.633630170052925!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x87d8b33e635b5581%3A0xc66b251cc5824adf!2sSocial+Security+Administration!5e0!3m2!1sen!2sus!4v1554228040920!5m2!1sen!2sus" width="600" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>
      </div>
    </div>
  </div>
</div>

<!-- RSVP section -->
<div class="w3-container w3-padding-64 w3-pale-red w3-center w3-wide" id="rsvp">
  <h1>HOPE YOU CAN MAKE IT!</h1>
  <p class="w3-large">Kindly Respond By May 31st, 2019</p>
  <p class="w3-xlarge">
    <button onclick="document.getElementById('id01').style.display='block'; document.getElementById('exit').style.display = 'inline';" class="w3-button w3-round w3-red w3-opacity w3-hover-opacity-off" style="padding:8px 60px">RSVP</button>
  </p>
</div>

<!-- RSVP modal -->
<div id="id01" class="w3-modal">
  <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="padding:32px;max-width:600px">
    <div class="w3-container w3-white w3-center">

  <button id='exit' onclick="document.getElementById('id01').style.display='none'; this.style.display = 'none';" style='float: left; border-color: red; color: red; cursor: pointer;'>X</button>
      <h1 class="w3-wide">CAN YOU COME?</h1>
      <p>We really hope you can make it.</p>
      <form id = "form" onsubmit= "return validate()" action="/RSVP" method="POST">
        <input id = "name" class="w3-input w3-border" type="text" placeholder="Name(s)" name="name" oninvalid="this.setCustomValidity('We are gonna need your name!')" oninput="this.setCustomValidity('')" required>
        <input id = "adults" onchange=changeMax() oninvalid="if (this.max > this.value){this.setCustomValidity('How many adults?')}else{this.setCustomValidity('Can only have a total of 4 seats')}" oninput="this.setCustomValidity('')" class="w3-input w3-border" type="number" min="0" max="4" placeholder="Number of Adults" name="adults" required/>
        <input id = "kids" onchange=changeMax() oninvalid="if (this.max > this.value){this.setCustomValidity('How many kids?')}else{this.setCustomValidity('Can only have a total of 4 seats')} " oninput="this.setCustomValidity('')" class="w3-input w3-border" type="number" min="0" max="4" placeholder="Number of Children (0-12)" name="kids" required/>
        <input id = "vegetarians" class="w3-input w3-border" oninvalid="if (this.max > this.value){this.setCustomValidity('Any vegetaians?')}else{this.setCustomValidity('Must be less than total attending.')}" oninput="this.setCustomValidity('')" type="number" min="0" max="4" placeholder="Number of Vegetarians" name="vegetarians" required/>
        <input id = "email" class="w3-input w3-border" type="email" placeholder="email@example.com  -  For a reminder!  -  Optional" name="email"/> 
        <input id = "inviteCode" oninvalid="if (this.value == '') {this.setCustomValidity('Don\'t forget to enter the code!')}else{this.setCustomValidity('Invalid code')}" oninput="this.setCustomValidity('')" class="w3-input w3-border" type="text" placeholder="CODE" name="inviteCode" required/>
        <i>If you need more than 4 seats, please contact us!<br> Trying to fit all our loved ones in!</i> 
      <p><i>Sincerely, Dalton & Lauren</i></p>
      <div class="w3-row">
        <div class="w3-half">         
          <input type="submit" class="w3-button w3-block w3-green" value="Going!" onclick="sanitizeAllFields(); document.getElementById('form').action = '/RSVP';" />
          </form>
        </div>
        <div class="w3-half">
          <input type="submit" onclick="sanitizeAllFields(); document.getElementById('form').action = '/RSVP0'; document.getElementById('adults').value='0'; document.getElementById('kids').value='0'; document.getElementById('vegetarians').value='0';" class="w3-button w3-block w3-red" value="Can't come" />
        </div>
      </form>
      </div>
    </div>
  </div>
</div>
<script>
  
  function changeMax(){
    document.getElementById("kids").max = 4 - document.getElementById("adults").value;
    document.getElementById("vegetarians").max = parseInt(document.getElementById("adults").value) + parseInt(document.getElementById("kids").value)
  }

// function validate(){

//   if(document.getElementById('name').value != '' && document.getElementById('inviteCode').value != '' && document.getElementById('adults').value != ''){
//     return true;
//   }else{
//     return false;
//   }
// }
function sanitizeAllFields(){
  // strip all html from input before sending to server
  document.getElementById("name").value = strip(document.getElementById("name").value);
  document.getElementById("adults").value = strip(document.getElementById("adults").value);
  document.getElementById("kids").value = strip(document.getElementById("kids").value);
  document.getElementById("vegetarians").value = strip(document.getElementById("vegetarians").value);
  document.getElementById("email").value = strip(document.getElementById("email").value);
  document.getElementById("inviteCode").value = strip(document.getElementById("inviteCode").value);
  
}
// strip html from string
function strip(html){
   var doc = new DOMParser().parseFromString(html, 'text/html');
   return doc.body.textContent || "";
}



</script>
<!-- Footer -->
<footer class="w3-center w3-black w3-padding-16">
  Dalton & Lauren Brooks - 2019
</footer>
<div class="w3-hide-small" style="margin-bottom:32px">Â </div>

</body>
</html>
